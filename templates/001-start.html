{% extends "000-base.html" %} {% block content %}
<form method="post" id="configForm" name="configForm">
  <div id="{{page_info['title']}}Section">
    <div class="row">
      <div class="col align-self-center">
        <div class="input-group justify-content-start">
          <!-- <button type="submit" class="btn btn-secondary" onclick="loading('prev')" formaction="/step/{{ page_info['prev_page'] }}">
            <i id="prev-spinner-icon" class="fa fa-arrow-left"></i>
          </button> -->
        </div>
      </div>
      <div class="col-6 align-self-center text-center">
        <h2>{{ page_info['title'] }}</h2>
      </div>
      <div class="col align-self-center">
        <div class="input-group justify-content-end jump-spinner-container">
          <button type="button" class="btn btn-success dropdown-toggle dropdown-toggle-split" data-bs-toggle="dropdown" aria-expanded="false">
            <span id="jump-to-text">Jump To</span>
            <i id="jump-spinner-icon" class=""></i>
          </button>
          <ul class="dropdown-menu dropdown-menu-end">
            {% for file, name in template_list %}
            {% if name == 'Final Validation' %}
            <li>
              <hr class="dropdown-divider">
            </li>
            {% endif %}
            <li>
              <a class="dropdown-item" href="javascript:void(0);" onclick="jumpTo('{{ file.rsplit('.', 1)[0] }}')">{{ name }}</a>
            </li>
            {% if name == 'Start' %}
            <li>
              <hr class="dropdown-divider">
            </li>
            {% endif %}
            {% endfor %}
          </ul>
          <button type="submit" class="btn btn-success" onclick="loading('next')" formaction="/step/{{ page_info['next_page'] }}">
            <i id="next-spinner-icon" class="fa fa-arrow-right"></i>
          </button>
        </div>
      </div>
    </div>
    <div class="container text-center">
      <div class="row">
        <div class="col"></div>
        <div class="col-8">
          <div class="col align-self-end">
            <div class="progress" role="progressbar" aria-label="Example with label" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">
              <div class="progress-bar bg-success" style="width: {{ page_info['progress'] }}%">
                {{ page_info['progress'] }}%
              </div>
            </div>
          </div>
        </div>
        <div class="col"></div>
      </div>
    </div>
    <hr class="hr">
    {% include "modals/" + page_info['template_name'] + ".html" ignore missing %}
    <center>
      <img src="{{ url_for('static', filename='images/logo.webp') }}"
      alt="Quickstart"
      style="width: 300px; height: auto;" />
    </center>
    <br>
    <div class="form-text" id="pin-info">
      <p class="fs-5">Quickstart is a Web UI that will guide you through creating a Configuration File for Kometa.</p>
      <div class="alert alert-danger" role="alert">
        <strong>Important Notice:</strong> Quickstart is designed to be run by you, on your own machine, to ensure your data and credentials remain secure. All information entered, including credentials, is stored locally on your device, and Quickstart only communicates with third-party services to verify credentials. Kometa does not collect or share any data. We strongly advise against using a version of Quickstart hosted by someone else. For the official repository, visit <a href="https://github.com/Kometa-Team/Quickstart" target="_blank">Quickstart on GitHub</a>.
      </div>
      <p class="fs-5">Minimally, you will need information about your media server (URL and Token) and your TMDb information (API Key) before downloading the final config.yml file.</p>
      <p class="fs-5">Once you have gathered that stuff, click the next "Arrow" above.</p>
    </div>
    <div class="form-text" id="name-info">
      <p class="fs-6">The config name below is used for saving your config and progress on the server. You can change it if you wish before getting started.</p>
      <div class="alert alert-warning" role="alert">
        <strong>Note:</strong> Please write down the config name for future reference. This will help you to retrieve and modify your configuration later.
      </div>
    </div>
    <div class="form-floating">
      <input type="text" class="form-control" id="config_name" name="config_name" value="{{ page_info['config_name'] }}" title="Enter a config name if you wish" required="" onkeyup="validate_name(this)">
      <label for="config_name">Config Name</label>
    </div>
  </div>
  <form>
    <div class="d-grid gap-2">
      <a href="#" id="reset">
        <button class="btn btn-danger" type="submit" id="clearSessionButton">Reset and Start Over</button>
      </a>
    </div>
  </form>
</form>
<!-- Modal for confirmation -->
<div class="modal fade" id="confirmationModal" tabindex="-1" aria-labelledby="confirmationModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title text-danger" id="confirmationModalLabel">Confirm</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body" id="confirmationModalBody">
        <!-- Dynamic content added via JS -->
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-danger" id="confirmClearSession">Yes, Reset</button>
      </div>
    </div>
  </div>
</div>
{% endblock %}
